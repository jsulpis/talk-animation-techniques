---
import CodeBlock from "../../../../components/CodeBlock.astro";
import FlexContainer from "../../../../components/FlexContainer.astro";
import Slide from "../../../../components/Slide.astro";
import SlideDemo from "../../../../components/SlideDemo.astro";

const { title } = Astro.props;
const subSectionTitle = "Sinusoïdes";
---

<SlideDemo sectionTitle={title} subSectionTitle="Utilisation">
	<p>
		<span class="icon-wrapper"><span class="icon fear">👍</span></span>
	</p>
</SlideDemo>

<SlideDemo sectionTitle={title} subSectionTitle="Utilisation">
	<p><span class="icon-wrapper"><span class="icon fear">👍</span></span></p>
	<CodeBlock lang="css">
		{
			`.icon:hover {
  transform: rotate(1turn);
  transition: transform 800ms;
}`
		}
	</CodeBlock>
</SlideDemo>

<SlideDemo sectionTitle={title} subSectionTitle={subSectionTitle}>
	<p>
		<span class="icon-wrapper"><span class="icon hand first">👋</span></span>
	</p>
</SlideDemo>

<Slide sectionTitle={title} subSectionTitle={subSectionTitle}>
	<img
		class="fragment"
		src="https://css-tricks.com/wp-content/uploads/2021/05/cubic-bezier-easing-curve.svg"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/jf8tjkqa6t5zqcybcv08.png?w=648&ssl=1"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/ws9k5wiplk5xu00iaj13.png?w=385&ssl=1"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/r3ytyx91ra931q6iitop.png?w=358&ssl=1"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		class="fragment fade-in-then-out"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/parabolic-curve.png?w=740&ssl=1"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/s_2F833027948B591FD3C0F13442F268753758E2B2D0DF52CE3CF13FC150D8939B_1619179387250_image.png?w=1256&ssl=1"
		alt="bezier curve"
	/>
	<img
		class="fragment"
		src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/05/sinusoidal-curve-2.png?w=594&ssl=1"
		alt="bezier curve"
	/>
	<p>
		Images et technique : <a
			href="https://css-tricks.com/advanced-css-animation-using-cubic-bezier/#aa-sinusoidal-curve"
			>CSS Tricks - Advanced CSS Animation Using cubic-bezier()</a
		>
	</p>
</Slide>

<SlideDemo sectionTitle={title} subSectionTitle={subSectionTitle}>
	<p>
		<span class="icon-wrapper"><span class="icon hand first">👋</span></span>
	</p>
	<CodeBlock lang="css" lines="|4|6|">
		{
			`.icon:hover {
  transition-property: transform;
  transition-duration: 800ms;
  transition-timing-function: cubic-bezier(0.5, 700, 0.5, -700);

  transform: rotate(0.0004turn);
}`
		}
	</CodeBlock>
</SlideDemo>

<SlideDemo sectionTitle={title} subSectionTitle={subSectionTitle}>
	<FlexContainer>
		<p>
			<span class="icon-wrapper"><span class="icon hand first">👋</span></span>
		</p>
		<p>
			<span class="icon-wrapper"><span class="icon hand second">🤙</span></span>
		</p>
		<p>
			<span class="icon-wrapper"><span class="icon hand third">🤌</span></span>
		</p>
	</FlexContainer>
</SlideDemo>

<style lang="scss">
	.icon {
		font-size: 4rem;
		display: inline-block;
	}

	.icon-wrapper {
		display: inline-block;
		font-size: 2rem;
		padding: 1rem 2rem;
		border-radius: 0.5em;
		transition: background-color 100ms;

		&:hover {
			cursor: default;
			background-color: color(gray, 200);

			.fear {
				transform: rotate(1turn);
				transition: transform 800ms;
			}

			.icon.hand {
				transform-origin: 70% 70%;
				transform: rotate(0.0004turn);
				// sinusoidal bezier-curve : https://css-tricks.com/advanced-css-animation-using-cubic-bezier/#aa-sinusoidal-curve
				transition: transform 800ms cubic-bezier(0.5, 700, 0.5, -700);

				&.second {
					transform-origin: 50% 50%;
				}
				&.third {
					transform-origin: 0% 60%;
					transform: rotate(0.0003turn);
					transition: transform 800ms cubic-bezier(0.5, -700, 0.5, 700);
				}
			}
		}
	}

	.img-wrapper {
		display: flex;
		gap: 0.5rem;
	}

	img {
		height: 65vh;
		max-width: 90vw;
		margin-block: 2em;

		+ p {
			font-size: 0.6em;

			a {
				color: currentColor;
			}
		}

		&.fragment:first-of-type:not(.visible) {
			opacity: 1;
			visibility: inherit;
			display: initial;
		}

		&.fragment:not(.current-fragment) {
			display: none;
		}
	}
</style>
